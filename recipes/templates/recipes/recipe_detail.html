{% extends "base.html" %}
{% load static %}

{% block content %}
  <div class="recipe-container">
    <h2 class="recipe-title">{{ recipe.title }}</h2>
    <p class="recipe-description"><strong>Description:</strong> {{ recipe.description }}</p>

    {% if recipe.user == request.user %}
      <div class="recipe-actions">
        <a href="{% url 'recipes:edit_recipe' recipe.pk %}" class="btn btn-primary">Edit Recipe</a>
      </div>
    {% endif %}

    <div class="recipe-ingredients">
      <h3>Ingredients</h3>
      <ul>
        {% for ingredient in ingredients %}
          <li>{{ ingredient.name }}</li>
        {% endfor %}
      </ul>
    </div>

    <div class="recipe-instructions">
      <h3>Instructions</h3>
      <p>{{ recipe.instructions }}</p>
    </div>

    <div class="recipe-log">
      <h3>Meal Log</h3>
      {% if meal_logs %}
        <ul>
          {% for log in meal_logs %}
            <li>Chosen on: {{ log.chosen_date|date:"F j, Y" }}</li>
          {% endfor %}
        </ul>
      {% else %}
        <p>This meal has not been logged yet.</p>
      {% endif %}
    </div>
  </div>
{% endblock %}
